NAME=project-webserver

# DONOT ENABLE GUI
ENABLE_GUI=0

DEPENDS=
PACKAGES="../../server/phpfpm ../../server/mariadb ../../server/apache ../../server/postfix ../../server/dnsmasq"


# Database section
# DB_IMAGE=bb526/server:mariadb
DB_CONTAINER=webserver-db
#DB_PORT=3306
DB_NAME=webserver
DB_USER=webserver
DB_PASSWORD=webserver
#DB_DATA_DIR=${ASSET}/mysql
#DB_BACKUP_DIR=${ASSET}/sqlbackup
#DB_REPLICATION_SERVER_ID=0
# DB_DATABASE_STATUS_{dbname}=0|1
DB_DATABASE_STATUS_webserver=1
DB_REPLICATION_USER=slaveUser
DB_REPLICATION_PASSWORD=slavePassword


# Node balancer config options
# BALANCER_IMAGE=bb526/server:apache
BALANCER_CONTAINER=webserver-balancer
# BALANCER_LOG_LEVEL="warn"
# BALANCER_ENABLE_SSL=1
# BALANCER_SSL_ONLY=0
# BALANCER_CERTIFICATE_PATH=${ASSET}/ssl
# BALANCER_CONFIG_PATH=${ASSET}/balancer
# BALANCER_LOG_PATH=${DATA}/balancer
# BALANCER_CERTIFICATE_AUTHORITY=letsencrypt-staging
SITE_NAME=example.com
SITE_ALIAS=www.example.com
# BALANCER_LISTEN_PORT=
# BALANCER_LISTEN_SSLPORT=


# Webserver
# WEB_IMAGE=bb526/server:apache
WEB_CONTAINER=webserver-server
# WEB_ROOT=${DATA}/www
# DOCUMENT_ROOT=/home/www
# PATH_ALIASES=
# WEB_LOG_LEVEL="warn"
WEB_CONFIG_TYPE=phpapp
# WEB_DOCUMENT_REPO=
# WEB_REPO_BRANCH="development"
# WEB_LOG_PATH=${DATA}/Webserver
# WEB_LISTEN_PORT=
# APP_ENVIRONMENT=$(git rev-parse --abbrev-ref HEAD -C "$(dirname "${BASH_SOURCE[0]}")")
# WEB_DOCUMENT_ASSETS=


# PHP application server
APP_IMAGE=bb526/server:phpfpm
APP_CONTAINER=webserver-app
# APP_ASSET=${DATA}/www
# APP_PRIVATE_ROOT=${ASSET}/www
# APP_ASSET_REPO=
# APP_REPO_BRANCH=development
# APP_PRIVATE_RESOURCE_TYPE=
# APP_PRIVATE_ROOT_SOURCE=
# APP_PRIVATE_ROOT_BACKUP=
# APP_DOCUMENT_ASSETS="uploads backups"
# APP_PRIVATE_ASSETS="config/database.php cache"
# APP_LISTEN_PORT=
# APP_DEBUG_MAP_PORT=1
# APP_ENV_{name}={value}
# APP_ENV_MEMMORY_LIMIT=512M
APP_ENV_FROM_MAIL_ADDRESS="noreplay@${SITE_NAME}"
# APP_MOUNT_{name}=
# DOCUMENT_ROOT=/home/wwww
APP_WRITE_MOUNT=0


# Dns masq
# DNS_IMAGE=bb526/server:dnsmasq
DNS_CONTAINER=webserver-dns
# DNS_SERVER=
# DNS_ALLOWED_HOSTS=
# DNS_LOG_PATH=${DATA}/dns/log
# DNS_HOST_MAP=

# POSTFIX
# MAIL_IMAGE=bb526/server:postfix
MAIL_CONTAINER=webserver-mail
MAIL_HOST_NAME=${SITE_NAME}
# MAIL_DESTINATION=
# MAIL_RELAY_DOMAINS=
# MAIL_BANNER=
# MAIL_RELAY=
# MAIL_PORT=
# MAIL_USER=
# MAIL_PASSWORD=
# MAIL_LOG_PATH=${DATA}/mail/log
# MAIL_CERTIFICATE_ROOT=${ASSET}/balancer
# MAIL_CERTIFICATE_KEY=domains/${MAIL_HOST_NAME}/privkey.pem
# MAIL_CERTIFICATE=domains/${MAIL_HOST_NAME}/pubcert.pem
